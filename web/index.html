<!doctype html>
<html lang="ru">

<head>
  <meta charset="utf-8" />
  <title>Voice â€” Private Rooms</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="color-scheme" content="light dark" />
  <link rel="stylesheet" href="/static/style.css">
</head>

<body>
  <header>
    <h1>ðŸŽ§ Voice</h1>

    <span class="pill">
      WS: <span id="wsState" class="mono">connecting...</span>
    </span>

    <span class="pill">
      Room: <span id="roomBadge" class="mono">â€”</span>
    </span>

    <span class="pill">
      <span id="pcHealthDot" class="health-dot"></span>
      <span id="pcState" class="mono">PC: idle</span>
    </span>

    <div class="spacer"></div>

    <span class="pill">
      â†‘ <span id="txRate" class="mono">0 B/s</span> Â·
      â†“ <span id="rxRate" class="mono">0 B/s</span>
    </span>
    <span class="pill mono">
      (Î£ â†‘<span id="txTotal">0</span>, â†“<span id="rxTotal">0</span>)
    </span>
  </header>

  <main>
    <!-- LEFT: current room + members -->
    <aside class="left">
      <div class="section">Current room</div>
      <div class="room-card" id="roomInfo">
        <div class="room-id-row">
          <span class="label">Room ID:</span>
          <input id="roomId" class="mono" placeholder="Not in a room yet" autocomplete="off">
        </div>
        <div class="room-actions">
          <button id="createRoom" class="primary">Create room</button>
          <button id="joinRoom">Join</button>
          <button id="copyLink" title="Copy invite link">Copy link</button>
        </div>
      </div>

      <div class="section">Participants</div>
      <div id="members" class="members"></div>
      <div id="membersEmpty" class="section" style="display:none;">No one in the room yetâ€¦</div>
    </aside>

    <!-- RIGHT: Controls + Log -->
    <aside class="right">
      <div class="row">
        <label class="field">
          <span class="label">Your name</span>
          <input id="userName" placeholder="Optional, can be set later" autocomplete="off">
        </label>
        <button id="renameBtn">Rename</button>
      </div>

      <div class="row">
        <button id="toggleMic" class="primary">Mic: On</button>
        <button id="toggleSound">Sound: On</button>
        <button id="reconnectVoice">Reconnect voice</button>
        <button id="leaveRoom">Leave room</button>
      </div>

      <!-- Ð¡ÐºÑ€Ñ‹Ñ‚Ñ‹Ð¹ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€ Ð´Ð»Ñ remote audio -->
      <div id="remoteAudio" hidden></div>

      <div class="row">
        <div class="section" style="padding:0">Log</div>
      </div>
      <pre id="log"></pre>
    </aside>
  </main>

  <!-- Client entrypoint -->
  <script type="module" src="/static/ui.js"></script>
</body>

</html>