# Voice

–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π self-hosted –≥–æ–ª–æ—Å–æ–≤–æ–π —á–∞—Ç —Å –ø—Ä–∏–≤–∞—Ç–Ω—ã–º–∏ –∫–æ–º–Ω–∞—Ç–∞–º–∏ –∏ –ø–µ—Ä–µ–¥–∞—á–µ–π –∑–≤—É–∫–∞ —á–µ—Ä–µ–∑ WebRTC.

–ü—Ä–æ–µ–∫—Ç –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –ª—ë–≥–∫—É—é –∏ –±—ã—Å—Ç—Ä—É—é –≥–æ–ª–æ—Å–æ–≤—É—é —Å–≤—è–∑—å –ø—Ä—è–º–æ –≤ –±—Ä–∞—É–∑–µ—Ä–µ.
–ö–æ–º–Ω–∞—Ç—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –ø–æ –∑–∞–ø—Ä–æ—Å—É, –¥–æ—Å—Ç—É–ø–Ω—ã —Ç–æ–ª—å–∫–æ –ø–æ ID/—Å—Å—ã–ª–∫–µ, –∞ –≥–æ–ª–æ—Å –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è —á–µ—Ä–µ–∑ WebRTC –±–µ–∑ —Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤.

---

## Features

- üîí **–ü—Ä–∏–≤–∞—Ç–Ω—ã–µ –∫–æ–º–Ω–∞—Ç—ã**  
  –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–Ω–∞—Ç—ã, –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ø–æ ID, –≤—ã—Ö–æ–¥ –∏–∑ –∫–æ–º–Ω–∞—Ç—ã.

- üé§ **–ì–æ–ª–æ—Å —á–µ—Ä–µ–∑ WebRTC**  
  –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ –≥–æ–ª–æ—Å–∞ –ø–æ—Å–ª–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è. –ë—Ä–∞—É–∑–µ—Ä –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç echo cancellation, noise suppression –∏ AGC.

- üîä **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–≤—É–∫–æ–º**  
  –í–∫–ª—é—á–µ–Ω–∏–µ/–≤—ã–∫–ª—é—á–µ–Ω–∏–µ –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞ –∏ –≤—Ö–æ–¥—è—â–µ–≥–æ –∑–≤—É–∫–∞.

- üîÅ **–ê–≤—Ç–æ–ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ WebRTC**  
  –ö–ª–∏–µ–Ω—Ç –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –≥–æ–ª–æ—Å–æ–≤–æ–π –ø–æ—Ç–æ–∫ –ø–æ—Å–ª–µ —Ä–∞–∑—Ä—ã–≤–∞.

- üì° **–ü–æ—Å—Ç–æ—è–Ω–Ω–æ–µ WebSocket‚Äë—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ**  
  –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–º–Ω–∞—Ç–∞–º–∏ –∏ WebRTC‚Äë—Å–∏–≥–Ω–∞–ª–∏–Ω–≥–∞.

- üë• **–°–æ–±—ã—Ç–∏—è –∫–æ–º–Ω–∞—Ç—ã**  
  –û–±–Ω–æ–≤–ª–µ–Ω–∏—è —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤: –≤—Ö–æ–¥, –≤—ã—Ö–æ–¥, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–º–µ–Ω–∏.

- ‚ö†Ô∏è **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —á–∞—Å—Ç–æ—Ç—ã —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–º–Ω–∞—Ç**  
  –°–µ—Ä–≤–µ—Ä –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `{"type": "error", "error": "rate_limited"}` –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –ª–∏–º–∏—Ç–æ–≤.

---

## Getting Started

### 1. –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞

```bash
go run ./cmd/server/main.go
```

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å–µ—Ä–≤–µ—Ä —Ä–∞–∑–¥–∞—ë—Ç —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã –∏ –ø–æ–¥–Ω–∏–º–∞–µ—Ç WebSocket‚Äë—Å–∏–≥–Ω–∞–ª–∏–Ω–≥ –ø–æ –∞–¥—Ä–µ—Å—É:

```
/api/ws/signal
```

### 2. –û—Ç–∫—Ä—ã—Ç—å –∫–ª–∏–µ–Ω—Ç

–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ –Ω–∞:

```
http://localhost:8080/
```

---

## Usage

1. –ù–∞–∂–º–∏—Ç–µ **Create Room** ‚Äî –ø–æ–ª—É—á–∏—Ç–µ ID –∫–æ–º–Ω–∞—Ç—ã.  
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Å—Å—ã–ª–∫—É –¥—Ä—É–≥–æ–º—É —É—á–∞—Å—Ç–Ω–∏–∫—É.  
3. –ü–æ—Å–ª–µ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –≥–æ–ª–æ—Å –Ω–∞—á–∏–Ω–∞–µ—Ç –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.  
4. –ú–æ–∂–Ω–æ:
   - –º–µ–Ω—è—Ç—å –∏–º—è,
   - –≤–∫–ª—é—á–∞—Ç—å/–≤—ã–∫–ª—é—á–∞—Ç—å –º–∏–∫—Ä–æ—Ñ–æ–Ω,
   - –≤—ã–∫–ª—é—á–∞—Ç—å –≤—Ö–æ–¥—è—â–∏–π –∑–≤—É–∫,
   - –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–∞—Ç—å WebRTC –≤—Ä—É—á–Ω—É—é.

---

## Signal API (WebSocket)

–í—Å–µ —Å–æ–±—ã—Ç–∏—è –∏–¥—É—Ç —á–µ—Ä–µ–∑ `/api/ws/signal`.

### –ö–ª–∏–µ–Ω—Ç ‚Üí –°–µ—Ä–≤–µ—Ä

```json
{ "type": "create_room", "name": "optional" }
{ "type": "join", "room": "ROOM_ID", "name": "optional" }
{ "type": "leave" }
{ "type": "rename", "name": "New Name" }
{ "type": "offer", "sdp": "..." }
{ "type": "answer", "sdp": "..." }
{ "type": "candidate", "candidate": "...", "sdpMid": "0", "sdpMLineIndex": 0 }
{ "type": "whoami" }
{ "type": "ping" }
```

### –°–µ—Ä–≤–µ—Ä ‚Üí –ö–ª–∏–µ–Ω—Ç

```json
{ "type": "room_created", "room": "ROOM_ID" }
{ "type": "room_state", "room": "ROOM_ID", "room_name": "...", "members": [...], "count": 1 }
{ "type": "member_joined", "user": {...} }
{ "type": "member_left", "user": {...} }
{ "type": "member_updated", "user": {...} }
{ "type": "answer", "sdp": "..." }
{ "type": "offer", "sdp": "..." }
{ "type": "candidate", "candidate": "..." }
{ "type": "pong" }
{ "type": "error", "error": "rate_limited" }
```

---

## Roadmap

- üîä –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä ¬´–∫—Ç–æ –≥–æ–≤–æ—Ä–∏—Ç¬ª (VAD —á–µ—Ä–µ–∑ RTP extension)
- üé• –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤–∏–¥–µ–æ–ø–æ—Ç–æ–∫–æ–≤
- üìà –°—Ç–∞—Ç—É—Å WebRTC —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è (rtt/loss/jitter)
- üîê –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- üß© –£–ª—É—á—à–µ–Ω–Ω—ã–π UI/UX

---

## License

–ü—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π GNU AGPLv3